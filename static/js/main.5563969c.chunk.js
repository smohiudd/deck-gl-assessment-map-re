(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(156)},154:function(e,t){},156:function(e,t,a){"use strict";a.r(t);var n,l,r,o,c,i,u,s,m,b,d,g,O=a(10),j=a.n(O),p=a(113),f=a.n(p),h=a(1),v=a(2),E=a(4),y=a(3),S=a(7),w=a(5),z=a(166),q=a(168),N=a(120),_=a(164),k=a(115),C=a(116),x=a.n(C),A=a(19),L=a(16),V=a(165),R=a(8),D=a(35),I=(a(117),a(104),a(0)),M=a(44),T=a.n(M),P=T()({ordinal:null,quantile:null,quantize:null,linear:null,sqrt:null,point:null}),B=(a(35).scaleLinear,a(35).scaleQuantize,a(35).scaleQuantile,a(35).scaleOrdinal,a(35).scaleSqrt,a(35).scalePoint,T()({boolean:null,date:null,geojson:null,integer:null,real:null,string:null,timestamp:null,point:null})),G=(n={},Object(I.a)(n,B.boolean,{label:"bool",color:"231, 189, 194"}),Object(I.a)(n,B.date,{label:"date",color:"160, 106, 206"}),Object(I.a)(n,B.geojson,{label:"geo",color:"106, 160, 206"}),Object(I.a)(n,B.integer,{label:"int",color:"248, 194, 28"}),Object(I.a)(n,B.real,{label:"float",color:"248, 194, 28"}),Object(I.a)(n,B.string,{label:"string",color:"140, 210, 205"}),Object(I.a)(n,B.timestamp,{label:"time",color:"106, 160, 56"}),Object(I.a)(n,B.point,{label:"point",color:"0, 172, 237"}),function(e){return e}),J=(l={},Object(I.a)(l,B.string,G),Object(I.a)(l,B.timestamp,G),Object(I.a)(l,B.integer,G),Object(I.a)(l,B.boolean,function(e){return String(e)}),Object(I.a)(l,B.date,G),Object(I.a)(l,B.geojson,G),T()({color:null,radius:null,size:null,colorAggr:null,sizeAggr:null})),W="count",X="average",F="maximum",H="minimum",Q="median",U="sum",Y="mode",Z="count unique",K=(r={},Object(I.a)(r,J.color,[P.quantize,P.quantile]),Object(I.a)(r,J.radius,[P.sqrt]),Object(I.a)(r,J.size,[P.linear]),r),$=(i={},Object(I.a)(i,J.colorAggr,(o={},Object(I.a)(o,X,[P.quantize,P.quantile]),Object(I.a)(o,F,[P.quantize,P.quantile]),Object(I.a)(o,H,[P.quantize,P.quantile]),Object(I.a)(o,Q,[P.quantize,P.quantile]),Object(I.a)(o,U,[P.quantize,P.quantile]),o)),Object(I.a)(i,J.sizeAggr,(c={},Object(I.a)(c,X,[P.linear]),Object(I.a)(c,F,[P.linear]),Object(I.a)(c,H,[P.linear]),Object(I.a)(c,Q,[P.linear]),Object(I.a)(c,U,[P.linear]),c)),i),ee=(u={},Object(I.a)(u,J.color,[P.ordinal]),Object(I.a)(u,J.radius,[P.point]),Object(I.a)(u,J.size,[P.point]),u),te=(m={},Object(I.a)(m,J.colorAggr,(s={},Object(I.a)(s,Y,[P.ordinal]),Object(I.a)(s,Z,[P.quantize,P.quantile]),s)),Object(I.a)(m,J.sizeAggr,{}),m),ae=(b={},Object(I.a)(b,J.color,[]),Object(I.a)(b,J.radius,[]),Object(I.a)(b,J.size,[]),b),ne=(d={},Object(I.a)(d,J.colorAggr,{}),Object(I.a)(d,J.sizeAggr,{}),d),le=(g={},Object(I.a)(g,J.colorAggr,Object(I.a)({},W,[P.quantize,P.quantile])),Object(I.a)(g,J.sizeAggr,Object(I.a)({},W,[P.linear])),{string:{type:"categorical",scale:Object(L.a)({},ee,te),format:{legend:function(e){return e}}},real:{type:"numerical",scale:Object(L.a)({},K,$),format:{legend:function(e){return e}}},timestamp:{type:"time",scale:Object(L.a)({},K,ne),format:{legend:function(e){return e}}},integer:{type:"numerical",scale:Object(L.a)({},K,$),format:{legend:function(e){return e}}},boolean:{type:"boolean",scale:Object(L.a)({},ee,te),format:{legend:function(e){return e}}},date:{scale:Object(L.a)({},ee,te),format:{legend:function(e){return e}}},geojson:{type:"geometry",scale:Object(L.a)({},ae,ne),format:{legend:function(e){return"..."}}}}),re=(Object.keys(J).reduce(function(e,t){return Object(L.a)({},e,Object(I.a)({},t,Object.keys(le).filter(function(e){return Object.keys(le[e].scale[t]).length})))},{}),T()({point:null,arc:null,cluster:null,line:null,grid:null,geojson:null,icon:null,heatmap:null,hexagon:null}),T()({ONE_X:null,TWO_X:null})),oe=T()({SCREEN:null,FOUR_BY_THREE:null,SIXTEEN_BY_NINE:null}),ce=(oe.SCREEN,oe.FOUR_BY_THREE,oe.SIXTEEN_BY_NINE,re.ONE_X,Math.log2(1),re.TWO_X,Math.log2(2),T()({CSV:null})),ie=(ce.CSV,ce.CSV.toLowerCase(),T()({HTML:null,JSON:null}));Object.entries(ie).map(function(e){return{id:e[0],label:e[1].toLowerCase(),available:!0}}),T()({info:null,error:null,warning:null,success:null}),T()({global:null,file:null});function ue(e){return void 0!==e&&null!==e}function se(e,t,a){var n=Object(R.a)(a,2),l=n[0],r=n[1];switch(e){case P.quantize:return[t[l].value,t[r].value];case P.quantile:return t.slice(l,r+1).map(function(e){return e.value});case P.ordinal:return function(e){var t=[];return e.forEach(function(e){!t.includes(e)&&ue(e)&&t.push(e)}),t}(t.map(function(e){return e.value})).sort();default:return[t[l].value,t[r].value]}}function me(e){var t=e.props,a=t.colorScale,n=t.colorDomain;e.state.colorScaleFunc=function(e){switch(e){case P.quantize:return D.scaleQuantize;case P.quantile:return D.scaleQuantile;case P.ordinal:return D.scaleOrdinal;default:return D.scaleQuantile}}(a)().domain(n||e.state.colorDomain||e.state.colorValueDomain).range(e.props.colorRange)}var be=Object(L.a)({},V.a.defaultProps,{colorScale:"quantile"}),de=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getDimensionUpdaters",value:function(){var e=Object(A.a)(Object(y.a)(t.prototype),"getDimensionUpdaters",this).call(this);return e.getFillColor[1].triggers.push("colorScale"),e}},{key:"getColorValueDomain",value:function(){!function(e){var t=e.props,a=t.lowerPercentile,n=t.upperPercentile,l=t.colorScale,r=e.state.sortedColorBins.sortedBins,o=r.length;if(o){var c=Math.ceil(a/100*(o-1)),i=Math.floor(n/100*(o-1));e.state.colorValueDomain=se(l,r,[c,i]),e.getColorScale()}else e.state.colorValueDomain=null;e.props.onSetColorDomain(e.state.colorValueDomain)}(this)}},{key:"getColorScale",value:function(){me(this)}}]),t}(V.a);de.layerName="EnhancedHexagonLayer",de.defaultProps=be;var ge=function(e){return j.a.createElement("div",null,j.a.createElement("div",{className:"absolute top left w300 h180 py12 px12 ml36 mt36 bg-white round-bold prose"},j.a.createElement("h4",null,"City of Calgary ",j.a.createElement("span",{class:"txt-underline"},"Residential Property Assessment")),j.a.createElement("div",{className:"w240 mt12 txt-s px6 py6 round shadow-darken10"},j.a.createElement("div",{className:"grid mb6"},j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#440154"}}),j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#414487"}}),j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#2a788e"}}),j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#22a884"}}),j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#7ad151"}}),j.a.createElement("div",{className:"col h12",style:{backgroundColor:"#fde725"}})),j.a.createElement("div",{className:"grid txt-s"},j.a.createElement("div",{className:"col flex-child--grow"},"Low Assessment Value"),j.a.createElement("div",{className:"col flex-child--grow align-r"},"High Assessment Value"))),j.a.createElement("div",{class:"txt-s mt12"},j.a.createElement("a",{href:"https://saadiqm.com/deck-gl-assessment-map-nr/"},"Link")," to Non-Residental Property assessment map")))},Oe="pk.eyJ1Ijoic2FhZGlxbSIsImEiOiJjamJpMXcxa3AyMG9zMzNyNmdxNDlneGRvIn0.wjlI8r1S_-xxtq2d-W5qPA",je={longitude:-114.062019,latitude:51.04427,zoom:10.5},pe=[[68,1,84],[65,68,135],[42,120,142],[34,168,132],[122,209,81],[253,231,37]],fe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(y.a)(t).call(this,e)))._onWebGLInitialized=function(e){a.setState({gl:e})},a._onMapLoad=function(){var e=a._map,t=a._deck;e.addLayer(new q.a({id:"assessment-RE",deck:t}),"waterway-label")},a.state={zoom:je.zoom},a._onViewStateChange=a._onViewStateChange.bind(Object(S.a)(a)),a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"_onViewStateChange",value:function(e){var t=e.viewState;this.setState({zoom:t.zoom})}},{key:"_renderLayers",value:function(){return[new _.a({id:"assessment-RE",type:_.a,getTileData:function(e){var t=e.x,a=e.y,n=e.z,l="https://a.tiles.mapbox.com/v4/saadiqm.crsurd8i/".concat(n,"/").concat(t,"/").concat(a,".vector.pbf?access_token=").concat(Oe);return fetch(l).then(function(e){return e.arrayBuffer()}).then(function(e){for(var l=[],r=new k.VectorTile(new x.a(e)).layers.RE,o=0;o<r.length;o++){var c=r.feature(o).toGeoJSON(t,a,n);l.push(c)}return l})},onTileError:function(e){return console.error(e)},maxZoom:9,renderSubLayers:function(e){return new de(e,{opacity:.9,pickable:!1,extruded:!1,radius:80,coverage:.8,colorAggregation:"MEAN",getColorWeight:function(e){return e.properties.RE_ASSESSED_VALUE},colorRange:pe,colorScale:"quantile",getPosition:function(e){return e.geometry.coordinates}})}})]}},{key:"render",value:function(){var e=this,t=this.state.gl;return j.a.createElement("div",null,j.a.createElement(z.a,{ref:function(t){e._deck=t&&t.deck},layers:this._renderLayers(),initialViewState:je,controller:!0,onWebGLInitialized:this._onWebGLInitialized,onViewStateChange:this._onViewStateChange},t&&j.a.createElement(N.a,{ref:function(t){e._map=t&&t.getMap()},gl:t,mapStyle:"mapbox://styles/saadiqm/cjxbd493m05cc1cl29jntlb1w?optimize=true",mapboxApiAccessToken:Oe,onLoad:this._onMapLoad})),j.a.createElement(ge,null))}}]),t}(j.a.Component);f.a.render(j.a.createElement(fe,null),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.5563969c.chunk.js.map